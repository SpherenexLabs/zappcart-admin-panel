{
  "version": 2,
  "builds": [
    { "src": "api/**/*.js", "use": "@vercel/node", "config": { "runtime": "nodejs22.x" } },
    { "src": "build/**/*", "use": "@vercel/static" }
  ],
  "rewrites": [
    { "source": "/api/(.*)", "destination": "/api/index.js?path=$1" },
    { "source": "/(.*)", "destination": "/index.html" }
  ],
  "routes": [
    { "src": "/api/health", "dest": "/api/health.js" },
    { "src": "/api/create-razorpay-order", "dest": "/api/create-razorpay-order.js" },
    { "src": "/api/verify-razorpay-payment", "dest": "/api/verify-razorpay-payment.js" },
    { "src": "/api/payment-status/(.*)", "dest": "/api/payment-status.js?id=$1" },
    { "src": "/api/vendor-transfer", "dest": "/api/vendor-transfer.js" },
    
    { "src": "/static/(.*)", "dest": "/build/static/$1" },
    { "src": "/favicon.ico", "dest": "/build/favicon.ico" },
    { "src": "/manifest.json", "dest": "/build/manifest.json" },
    { "src": "/robots.txt", "dest": "/build/robots.txt" },
    { "src": "/(.*)", "dest": "/build/index.html" }
  ]
}
