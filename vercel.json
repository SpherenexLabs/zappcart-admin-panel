{
  "version": 2,
  "builds": [
    { "src": "api/**/*.js", "use": "@vercel/node", "config": { "runtime": "nodejs22.x" } },
    { "src": "build/**/*", "use": "@vercel/static" }
  ],
  "rewrites": [
    { "source": "/api/health", "destination": "/api/health.js" },
    { "source": "/api/create-razorpay-order", "destination": "/api/create-razorpay-order.js" },
    { "source": "/api/verify-razorpay-payment", "destination": "/api/verify-razorpay-payment.js" },
    { "source": "/api/payment-status/(.*)", "destination": "/api/payment-status.js?id=$1" },
    { "source": "/api/vendor-transfer", "destination": "/api/vendor-transfer.js" },

    { "source": "/static/(.*)", "destination": "/build/static/$1" },
    { "source": "/favicon.ico", "destination": "/build/favicon.ico" },
    { "source": "/manifest.json", "destination": "/build/manifest.json" },
    { "source": "/robots.txt", "destination": "/build/robots.txt" },

    { "source": "/(.*)", "destination": "/build/index.html" }
  ]
}
